<!DOCTYPE html>
<html>
    <head>
        <title>Hello World Project</title>

        <!-- jQuery library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
        <!-- JS chart library -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>
    </head>
    <body>
        <h1>Hello World Project</h1>
        <div>
            <picture>
                <canvas id="lineChart" style="width:100%;max-width:270px"></canvas>
            </picture>
            <p>Line Chart</p>
        </div>
    </body>

    <script>
        $(document).ready(function() {
            showGraph();
        });

        const result1 = {"system_info": {"os_name":"Windows 11","os_arch":"amd64","java_version":"17.0.11","num_cpu":"12","free_mem":"256103936","max_mem":"4114612224","jvm_mem":"257949696"}, "results": {"10kb": {"sequential":3,"runnable":4,"future":11},"50kb": {"sequential":7,"runnable":8,"future":18},"100kb": {"sequential":20,"runnable":17,"future":24},"500kb": {"sequential":40,"runnable":24,"future":27},"1mb": {"sequential":63,"runnable":48,"future":31},"5mb": {"sequential":298,"runnable":178,"future":164},"10mb": {"sequential":654,"runnable":336,"future":299},"50mb": {"sequential":3717,"runnable":2160,"future":1461},"100mb": {"sequential":5897,"runnable":3046,"future":2503}}};
        const result2 = {"system_info": {"os_name":"Windows 10","os_arch":"amd64","java_version":"16.0.1","num_cpu":"4","free_mem":"400303424","max_mem":"6417285120","jvm_mem":"402653184"}, "results": {"10kb": {"sequential":6,"runnable":10,"future":7},"50kb": {"sequential":13,"runnable":35,"future":41},"100kb": {"sequential":17,"runnable":41,"future":16},"500kb": {"sequential":47,"runnable":55,"future":47},"1mb": {"sequential":93,"runnable":108,"future":49},"5mb": {"sequential":368,"runnable":379,"future":224},"10mb": {"sequential":881,"runnable":800,"future":543},"50mb": {"sequential":3983,"runnable":3546,"future":2270},"100mb": {"sequential":8535,"runnable":7837,"future":4556}}};
        const result3 = {"system_info": {"os_name":"Windows 10","os_arch":"amd64","java_version":"17.0.3.1","num_cpu":"12","free_mem":"396780872","max_mem":"6371147776","jvm_mem":"398458880"}, "results": {"10kb": {"sequential":5,"runnable":3,"future":9},"50kb": {"sequential":16,"runnable":40,"future":15},"100kb": {"sequential":19,"runnable":45,"future":17},"500kb": {"sequential":70,"runnable":74,"future":50},"1mb": {"sequential":88,"runnable":61,"future":69},"5mb": {"sequential":374,"runnable":299,"future":246},"10mb": {"sequential":837,"runnable":355,"future":433},"50mb": {"sequential":2322,"runnable":1023,"future":1262},"100mb": {"sequential":5282,"runnable":2504,"future":2845}}};
        const result4 = {"system_info": {"os_name":"Windows 10","os_arch":"amd64","java_version":"17.0.10","num_cpu":"12","free_mem":"130587576","max_mem":"2107637760","jvm_mem":"132120576"}, "results": {"10kb": {"sequential":3,"runnable":4,"future":8},"50kb": {"sequential":7,"runnable":5,"future":12},"100kb": {"sequential":12,"runnable":9,"future":10},"500kb": {"sequential":40,"runnable":17,"future":36},"1mb": {"sequential":73,"runnable":36,"future":52},"5mb": {"sequential":331,"runnable":158,"future":161},"10mb": {"sequential":687,"runnable":296,"future":355},"50mb": {"sequential":3067,"runnable":1391,"future":1458},"100mb": {"sequential":6268,"runnable":2806,"future":2750}}};
        // attempt at converting data object to array
        // const result = {result1, result2, result3, result4};
        // const testing = dig(result1, '1mb');

        // function dig(obj, target) {
        //     target in obj
        //         ? obj[target]
        //         : Object.values(obj).reduce((acc, val) => {
        //             if (acc !== undefined) return acc;
        //             if (typeof val === 'object') return dig(val, target);
        //         }, undefined);
        // };

        // chart library
        const showGraph = () => {
            // debugging
            // console.log(result);
            // console.log(result1.results['1mb'].sequential);
            // console.log(testing);

            // line chart
            new Chart("lineChart", {
                type: 'line',
                data: {
                    labels: ['a', 'b', 'c', 'd'],
                    datasets: 
                    [
                        {
                        label: 'apple',
                        borderColor: ['red'],
                        backgroundColor: ['red'],
                        data: [2, 4, 6, 8] // y axis
                        },
                        {
                        label: 'orange',
                        borderColor: ['orange'],
                        backgroundColor: ['orange'],
                        data: [8, 6, 4, 2] // y axis
                        }
                    ]   
                },
                options: {
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'filesize'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'time taken'
                            }
                        }
                    },
                }
            });
        }
    </script>
</html>
